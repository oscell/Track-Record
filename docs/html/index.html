<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Track-Record: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo_slogan.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Track-Record
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Track-Record Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="https://github.com/oscell/Track-Record/blob/Beta-1.x/assets/Logo_slogan.png" alt="Logo" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md0"></a>
Team</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name </th><th class="markdownTableHeadNone">Responsibility </th><th class="markdownTableHeadNone">GUID  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Oscar Meunier </td><td class="markdownTableBodyNone">Networks and design engineer </td><td class="markdownTableBodyNone">2391076M  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Sai Vamsi Karnam </td><td class="markdownTableBodyNone">Face tracking developer </td><td class="markdownTableBodyNone">GUID  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Tara Duggan </td><td class="markdownTableBodyNone">Electrical engineer &amp; documentation </td><td class="markdownTableBodyNone">GUID  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Rohith Kambampati </td><td class="markdownTableBodyNone">Motor Developer </td><td class="markdownTableBodyNone">GUID  </td></tr>
</table>
<p>Track-Record is a face tracking system built on the Raspberry Pi 3B platform, using a Pi Camera Module and servo motors for real-time face detection and tracking. A GUI is also implemented which comunicates via a server sending commands to the raspi.</p>
<p>The full documentation can be found <a href="https://tduggan63.github.io/Track-Record/index.html">here</a>.</p>
<p>Find us on <a href="https://twitter.com/TrackrecordTeam">Twitter</a> and <a href="https://www.instagram.com/_u/tracknrecordteam">Instagram</a> to stay up to date with any of the latest developements or email us at <a href="#" onclick="location.href='mai'+'lto:'+'tra'+'ck'+'nre'+'co'+'rdt'+'ea'+'m@g'+'ma'+'il.'+'co'+'m'; return false;">track<span style="display: none;">.nosp@m.</span>nrec<span style="display: none;">.nosp@m.</span>ordte<span style="display: none;">.nosp@m.</span>am@g<span style="display: none;">.nosp@m.</span>mail.<span style="display: none;">.nosp@m.</span>com</a> to get in touch.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Hardware</h2>
<p>The following electronic components were used to builf the project:</p>
<ul>
<li><a href="https://www.raspberrypi.com/products/raspberry-pi-3-model-b/">Raspberry Pi 3B</a></li>
<li>[SD Card] - One with a memory capacity of 16 gigs or more.</li>
<li><a href="https://www.raspberrypi.com/products/camera-module-v2/">Pi Camera module 2</a></li>
<li><a href="https://www.towerpro.com.tw/product/sg92r-7/">SG92R Servo</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Software Dependencies</h2>
<p>The following libraries were used throughout the project:</p>
<ul>
<li><a href="https://cmake.org/download/">CMake</a></li>
<li><a href="https://opencv.org/releases/">OpenCV</a></li>
<li><a href="https://www.airspayce.com/mikem/bcm2835/index.html">BCM2835</a></li>
<li><a href="https://wiki.qt.io/Qt_for_Beginners">QT5</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Installation and Usage</h2>
<p>This project aims to build a standalone plug and play type product. Clip the camera of your choice to the platform, switch the power on and watch it track you. But wait there's more, you can build it on your own. Follow the instructions ahead.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Instructions</h2>
<ul>
<li>Step 1: Setting up the hardware<ul>
<li><a href="https://www.raspberrypi.com/documentation/computers/getting-started.html">Install the OS</a> and set up a display.*</li>
<li><a href="https://www.raspberrypi.com/documentation/computers/compute-module.html#attaching-a-raspberry-pi-camera-module">Connect the Pi camera</a></li>
<li>Connect the motors using the PinOut diagram: Pan at Gpio 18, Tilt at Gpio 17</li>
<li>3D print the models &ndash; Check the Schematics and Solidworks directories or build your own model</li>
</ul>
</li>
<li>Step 2: Software<ul>
<li>Make sure to have the latest compiler based on GCC/G++ or Clang/LLVM</li>
<li><a href="https://cmake.org/download/">Setup cmake</a> on your Raspberry Pi</li>
<li>Clone the repo, the libraries used are included with the git package</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">git clone https://github.com/oscell/Track-Record.git</div>
</div><!-- fragment --><ul>
<li>Unpack the lib_package archive to /usr/include</li>
</ul>
<div class="fragment"><div class="line">sudo tar -xf lib_package.tar.gz -C /usr/include</div>
</div><!-- fragment --><ul>
<li><p class="startli">Create an executable in the <code>main/build</code> directory</p><ul>
<li>Open a terminal and navigate to the main directory</li>
<li>Run the following commands to create the executable "tracknrecord"</li>
</ul>
<p class="startli">```bash mkdir -p build &amp;&amp; cd build cmake .. make ```</p><ul>
<li>You should now see two executables named "tracknrecord" and "server" in the directory</li>
</ul>
</li>
<li><p class="startli">Set executable permission to run on startup</p><ul>
<li>Open a terminal and run the following commands</li>
</ul>
<p class="startli">```bash mkdir /home/pi/.config/autostart nano /home/pi/.config/autostart/track.desktop ```</p><ul>
<li>Copy or type the following text into the "track.desktop" file.</li>
<li>Replace the "directory" with the location of the executable named 'server.cpp' located in the main folder. (eg. home/pi/...)</li>
</ul>
<p class="startli">```bash [Desktop Entry] Type=Application Name=Track Exec="directory" ```</p><ul>
<li>Save the file using: Ctrl+X -&gt; Y</li>
</ul>
</li>
</ul>
<p>Step 3:</p><ul>
<li>Setup the GUI* as shown in section 2 of the footnotes.</li>
</ul>
<p>Step 4:</p><ul>
<li><p class="startli">Reboot the Pi from the terminal and it is ready to go.</p>
<p class="startli">```bash sudo reboot ```</p>
</li>
<li>The Pi should now be listening for commands.</li>
<li>Ensure the Pi and your personal machine are on the same network.</li>
<li>Open the GUI on your personal machine and click "start tracking".</li>
<li>To view the video feed, click the video feed button.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md6"></a>
*Footnotes</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
Section 1: Additonal information</h3>
<ul>
<li><a href="https://www.raspberrypi.com/documentation/computers/raspberry-pi.html">Raspberry Pi PinOut diagram</a></li>
<li>SG92r wiring: Red for Power, Brown for Ground, and Yellow/Orange for Data.</li>
<li>Set up <a href="https://www.realvnc.com/en/blog/how-to-setup-vnc-connect-raspberry-pi/">Raspberry Pi in headless mode</a> without a display and other hardware.</li>
</ul>
<h3><a class="anchor" id="autotoc_md8"></a>
Section 2: GUI</h3>
<p>This section should be built locally (not on the raspberry PI). It will be used to comunicate with the PI to send commands.</p>
<h4><a class="anchor" id="autotoc_md9"></a>
Dependencies</h4>
<p>As previously with the raspi install <a href="https://cmake.org/download/">cmake</a> on your machine. The next step is to install <a href="https://www.qt.io/download">Qt5</a> although this can be done simply on linux using the command:</p>
<div class="fragment"><div class="line">sudo apt-get install qt5-default</div>
</div><!-- fragment --><p>To find the path of your Qt5 installation, set up the C++, cmake, and QT5 on your personal machine and run the following command in the terminal:</p>
<div class="fragment"><div class="line">find / -iname Qt5Config.cmake 2&gt;/dev/null</div>
</div><!-- fragment --><p>Once you have the path, you can update the <code>/local/CMakeLists.txt</code> file with the correct Qt5_DIR.</p>
<div class="fragment"><div class="line">set(Qt5_DIR &quot;/path/to/Qt5/lib/cmake/Qt5&quot;)</div>
</div><!-- fragment --><p>The comunication with the raspberry pi is done through a server. To find the IP adress of the raspery pi run in the raspberry pi terminal:</p>
<div class="fragment"><div class="line">hostname -I</div>
</div><!-- fragment --><p>In <code>/local/src/GUI/main.cpp</code> change:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">QString serverAddress = &quot;127.0.0.1&quot;;</div>
</div><!-- fragment --><p>to</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">QString serverAddress = &quot;&lt;raspberry_pi_ip&gt;&quot;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Build</h3>
<div class="fragment"><div class="line">cd local/</div>
<div class="line">mkdir -p build &amp;&amp; cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
Usage</h3>
<h3><a class="anchor" id="autotoc_md12"></a>
On the Raspi</h3>
<p>Before being able to run send command the server must be initialised on the raspi.</p>
<div class="fragment"><div class="line">cd main/build/</div>
<div class="line">./server </div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md13"></a>
On your local machine</h3>
<p>Run the GUI.</p>
<div class="fragment"><div class="line"> cd local/build/</div>
<div class="line">./GUI1_0</div>
</div><!-- fragment --><p>It is comprised of a section for vieo feed input and 2 buttons.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
Tracking button</h3>
<p>This sends a signal to the client which toggles the tracknrecord executable depending on the state it is currently in.</p>
<h3><a class="anchor" id="autotoc_md15"></a>
Video feed</h3>
<p>This toggles the user webcam to show how face detection and tracking works. The GUI should look like this:</p>
<p><img src="/assets/GUI.png" alt="GUI" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md16"></a>
Section 3: 3D printing material</h2>
<p>The Solidworks assemblies are provided in <code>Solidworks/</code>. This will require version 2022 or above however. To print the latest version of the stand <code>.stl</code> files are available in <code>Solidworks/Stls/</code>.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Exploded view</h3>
<p><em><b>Note</b></em>: In out product demonstration the base used was the <code>Base_old</code> as we did not have time to 3D print such a large base.</p>
<p>Once assembled model looks like:</p>
<p><img src="/assets/SolidworksModel.png" alt="NormalVew" class="inline"/></p>
<p>and in exploded view:</p>
<p><img src="/assets/ExplodedView.png" alt="explodeView" class="inline"/> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
